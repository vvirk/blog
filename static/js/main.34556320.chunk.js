(window.webpackJsonpblog=window.webpackJsonpblog||[]).push([[0],{10:function(e,t,n){e.exports={title:"postDetails_title__31iRo"}},23:function(e,t,n){e.exports={wrap:"Preloader_wrap__1sVqL",inner:"Preloader_inner__2VW6Y"}},26:function(e,t,n){e.exports={btn:"postsList_btn__3Ecfv",list:"postsList_list__2GkjV"}},32:function(e,t,n){e.exports=n.p+"static/media/Spinner.315ddeed.svg"},36:function(e,t,n){e.exports=n(49)},48:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(19),c=n.n(o),s=n(1),i=n(18),u=n(30),l=n(35),p=n(31);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(n,!0).forEach(function(t){Object(p.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f={isFetching:!1,posts:!1,post:!1,comment:"",done:!1,postInfo:!1},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_IS_FETSHING":return d({},e,{isFetching:t.isFetching});case"ADD_POSTS":return d({},e,{posts:t.posts});case"ADD_POST":return d({},e,{post:t.post});case"ADD_COMMENT_VALUE":return d({},e,{comment:t.commentValue});case"ADD_COMMENT_TO_POST":return d({},e,{post:d({},e.post,{comments:[].concat(Object(l.a)(e.post.comments),[t.comment])})});case"CHANGE_AUTHOR":return d({},e,{postInfo:d({},e.postInfo,{author:t.author})});case"CHANGE_TITLE":return d({},e,{postInfo:d({},e.postInfo,{title:t.title})});case"CHANGE_BODY":return d({},e,{postInfo:d({},e.postInfo,{body:t.body})});case"EDIT_POST_INFO":return d({},e,{postInfo:d({},e.postInfo,{author:t.author,title:t.title,body:t.body})});case"CLEAR_POST_INFO":return d({},e,{postInfo:t.clear});case"DONE":return d({},e,{done:t.done});default:return e}},b=n(2),E=n(8),O=n(11),v=n(12),y=n(14),g=n(13),_=n(15),j=n(23),N=n.n(j),w=n(32),I=n.n(w),T=function(){return r.a.createElement("div",{className:N.a.wrap},r.a.createElement("div",{className:N.a.inner},r.a.createElement("img",{src:I.a,alt:"Spinner"})))},x=n(9),D=n.n(x),P=function(e){var t=e.id,n=e.title,a=e.body,o=e.author,c=e.date;return r.a.createElement("li",{className:D.a.post,key:t},r.a.createElement("h2",{className:D.a.title},n),r.a.createElement("div",{className:D.a.desc},r.a.createElement("p",null,a),r.a.createElement(b.b,{className:D.a.link,to:"/details/".concat(t)},"read more")),r.a.createElement("div",{className:D.a.info},r.a.createElement("p",{className:D.a.infoItem},o),r.a.createElement("p",{className:D.a.infoItem},c)))},k=n(26),C=n.n(k),S=function(e){var t=e.posts;return r.a.createElement("div",null,r.a.createElement(b.b,{className:C.a.btn,to:"/new"},"ADD POST"),r.a.createElement("ul",{className:C.a.list},t?t.map(function(e){return r.a.createElement(P,{id:e.id,title:e.title,body:e.body,author:e.author,data:e.data})}):null))},A=n(6),F=n.n(A),M=n(16),G=function(e){return{type:"TOGGLE_IS_FETSHING",isFetching:e}},H=function(e){return{type:"ADD_COMMENT_VALUE",commentValue:e}},L=function(e){return{type:"ADD_COMMENT_TO_POST",comment:e}},V=function(e){return{type:"DONE",done:e}},R="https://simple-blog-api.crew.red/posts/",Y={toggleIsFetching:G},B=Object(s.b)(function(e){return{isFetching:e.isFetching,posts:e.posts}},Y)(S),J=function(e){function t(){return Object(O.a)(this,t),Object(y.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.getPosts()}},{key:"render",value:function(){var e=this.props.isFetching;return r.a.createElement("div",{className:"blog-wrap"},e?r.a.createElement(T,null):null,r.a.createElement(B,null))}}]),t}(r.a.Component),U={getPosts:function(){return function(){var e=Object(M.a)(F.a.mark(function e(t){var n,a;return F.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(G(!0)),e.next=4,fetch(R);case 4:return n=e.sent,e.next=7,n.json();case 7:a=e.sent,t({type:"ADD_POSTS",posts:a}),t(G(!1)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}()},toggleIsFetching:G},W=Object(s.b)(function(e){return{isFetching:e.isFetching,posts:e.posts}},U)(J),q=function(e){var t=e.body,n=e.postId,a=e.id;return r.a.createElement("li",{key:a,id:n},t)},K=function(e){var t=e.addCommentValue,n=e.commentValue,a=e.postComment,o=e.match;return r.a.createElement("div",null,r.a.createElement("input",{onChange:function(e){return t(e.target.value)},onKeyUp:function(e){return 13===e.keyCode&&n?a(n,o.params.id):null},value:n}),r.a.createElement("button",{type:"button",onClick:function(){return a(n,o.params.id)}},"add comment"))},$={addCommentValue:H,postComment:function(e,t){return function(){var n=Object(M.a)(F.a.mark(function n(a){var r,o;return F.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(H("")),r={postId:+t,body:e},n.next=5,fetch("https://simple-blog-api.crew.red/comments",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}});case 5:return o=n.sent,n.next=8,o.json();case 8:a(L(r)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0);case 14:case"end":return n.stop()}},n,null,[[0,11]])}));return function(e){return n.apply(this,arguments)}}()}},z=Object(E.f)(Object(s.b)(function(e){return{commentValue:e.comment}},$)(K)),Q=n(10),X=n.n(Q),Z=function(e){function t(){return Object(O.a)(this,t),Object(y.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.getPost(this.props.match.params.id)}},{key:"render",value:function(){var e=this.props,t=e.isFetching,n=e.post,a=e.match;return r.a.createElement("div",{className:"wrap"},t?r.a.createElement(T,null):null,r.a.createElement("h2",{className:X.a.title},n.title),r.a.createElement("div",{className:X.a.desc},r.a.createElement("p",null,n.body)),r.a.createElement("div",{className:X.a.info},r.a.createElement("p",null,n.author),r.a.createElement("p",null,n.date)),r.a.createElement(b.b,{className:X.a.link,to:"/details/".concat(a.params.id,"/edit")},"edit"),r.a.createElement("h3",{className:X.a.subtitle},"comments:"),r.a.createElement(z,null),r.a.createElement("ul",{className:X.a.list},n.comments?n.comments.map(function(e){return r.a.createElement(q,{body:e.body,postId:e.postId,id:e.id})}):null))}}]),t}(r.a.Component),ee={toggleIsFetching:G,getPost:function(e){return function(){var t=Object(M.a)(F.a.mark(function t(n){var a,r,o;return F.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(G(!0)),a="".concat(R).concat(e,"?_embed=comments"),t.next=5,fetch(a);case 5:return r=t.sent,t.next=8,r.json();case 8:o=t.sent,n({type:"ADD_POST",post:o}),n(G(!1)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}},t,null,[[0,13]])}));return function(e){return t.apply(this,arguments)}}()}},te=Object(E.f)(Object(s.b)(function(e){return{isFetching:e.isFetching,post:e.post}},ee)(Z)),ne=n(34),ae=function(e){var t=e.addNewPost,n=e.posts,o=e.done,c=Object(a.useRef)(),s=Object(a.useRef)(),i=Object(a.useRef)(),u=n[n.length-1].id+1;return r.a.createElement("div",null,r.a.createElement("h2",null,"Create new post"),r.a.createElement("input",{type:"text",placeholder:"author",ref:c}),r.a.createElement("input",{type:"text",placeholder:"title",ref:s}),r.a.createElement("textarea",{placeholder:"post body",ref:i}),r.a.createElement("button",{type:"button",onClick:function(){return t(u,c.current.value,s.current.value,i.current.value,ne().format("YYYY-MM-D HH:mm:ss"))}},"ADD POST"),o?r.a.createElement(E.a,{to:"/"}):null)},re={addNewPost:function(e,t,n,a,r){return function(){var o=Object(M.a)(F.a.mark(function o(c){var s,i;return F.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,s={title:n,body:a,id:+e,author:t,date:r},o.next=4,fetch(R,{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}});case 4:return i=o.sent,o.next=7,i.json();case 7:c(V(!0)),o.next=13;break;case 10:o.prev=10,o.t0=o.catch(0),console.log(o.t0);case 13:case"end":return o.stop()}},o,null,[[0,10]])}));return function(e){return o.apply(this,arguments)}}()}},oe=Object(E.f)(Object(s.b)(function(e){return{posts:e.posts,done:e.done}},re)(ae)),ce=function(e){function t(){return Object(O.a)(this,t),Object(y.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.editPostInfo(this.props.post.author,this.props.post.title,this.props.post.body)}},{key:"render",value:function(){var e=this.props,t=e.done,n=e.id,a=e.postInfo,o=e.changeAuthor,c=e.changeTitle,s=e.changeBody,i=e.editPost;return r.a.createElement("div",null,r.a.createElement("h2",null,"Create new post"),r.a.createElement("input",{value:a.author,onChange:function(e){return o(e.target.value)},type:"text",placeholder:"author"}),r.a.createElement("input",{value:a.title,onChange:function(e){return c(e.target.value)},type:"text",placeholder:"title"}),r.a.createElement("textarea",{value:a.body,onChange:function(e){return s(e.target.value)},placeholder:"post body"}),r.a.createElement("button",{type:"button",onClick:function(){return i(n,a.author,a.title,a.body)}},"EDIT POST"),t?r.a.createElement(E.a,{to:"/"}):null)}}]),t}(r.a.Component),se={editPost:function(e,t,n,a){return function(){var r=Object(M.a)(F.a.mark(function r(o){var c,s,i;return F.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,c={title:n,body:a,id:+e,author:t},s="".concat(R).concat(e),r.next=5,fetch(s,{method:"PUT",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}});case 5:return i=r.sent,r.next=8,i.json();case 8:o(V(!0)),o({type:"CLEAR_POST_INFO",clear:!1}),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),console.log(r.t0);case 15:case"end":return r.stop()}},r,null,[[0,12]])}));return function(e){return r.apply(this,arguments)}}()},changeAuthor:function(e){return{type:"CHANGE_AUTHOR",author:e}},changeTitle:function(e){return{type:"CHANGE_TITLE",title:e}},changeBody:function(e){return{type:"CHANGE_BODY",body:e}},editPostInfo:function(e,t,n){return{type:"EDIT_POST_INFO",author:e,title:t,body:n}}},ie=Object(s.b)(function(e){return{done:e.done,id:e.post.id,postInfo:e.postInfo,post:e.post}},se)(ce),ue=function(){return r.a.createElement("div",{className:"inner"},r.a.createElement("div",{className:"content"},r.a.createElement(b.a,null,r.a.createElement(E.b,{path:"/",exact:!0,component:W}),r.a.createElement(E.b,{path:"/new",exact:!0,component:oe}),r.a.createElement(E.b,{path:"/details/:id",exact:!0,component:te}),r.a.createElement(E.b,{path:"/details/:id/edit",exact:!0,component:ie}))))};n(48);var le=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(ue,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function pe(){return Object(i.c)(h,f,Object(i.a)(u.a))}n.d(t,"configureStore",function(){return pe}),n.d(t,"store",function(){return me});var me=pe();c.a.render(r.a.createElement(s.a,{store:me},r.a.createElement(le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,n){e.exports={post:"post_post__O9m6l",title:"post_title__1NEd4",desc:"post_desc__3db0m",info:"post_info__3IMgM",infoItem:"post_infoItem__3149d",link:"post_link__29agJ"}}},[[36,1,2]]]);
//# sourceMappingURL=main.34556320.chunk.js.map