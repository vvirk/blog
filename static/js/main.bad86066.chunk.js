(window.webpackJsonpblog=window.webpackJsonpblog||[]).push([[0],{11:function(e,t,n){e.exports={post:"post_post__O9m6l",title:"post_title__1NEd4",desc:"post_desc__3db0m",info:"post_info__3IMgM",infoItem:"post_infoItem__3149d",link:"post_link__29agJ"}},22:function(e,t,n){e.exports={wrap:"addNewComment_wrap__2W-c1",input:"addNewComment_input__2fuTU",btn:"addNewComment_btn__zpcmV"}},25:function(e,t,n){e.exports={wrap:"Preloader_wrap__1sVqL",inner:"Preloader_inner__2VW6Y"}},28:function(e,t,n){e.exports={btn:"postsList_btn__3Ecfv",list:"postsList_list__2GkjV"}},34:function(e,t,n){e.exports=n.p+"static/media/Spinner.1d4fb49d.svg"},36:function(e,t,n){e.exports={comment:"comment_comment__l9kEd"}},39:function(e,t,n){e.exports=n(52)},5:function(e,t,n){e.exports={title:"addNewPost_title__1Cqo2",input:"addNewPost_input__2iY5Z",btn:"addNewPost_btn__1KAzi"}},51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(20),c=n.n(r),s=n(1),i=n(19),l=n(32),u=n(38),p=n(33);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(n,!0).forEach(function(t){Object(p.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f={isFetching:!1,posts:!1,post:!1,comment:"",postInfo:!1},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_IS_FETSHING":return d({},e,{isFetching:t.isFetching});case"ADD_POSTS":return d({},e,{posts:t.posts});case"ADD_POST":return d({},e,{post:t.post});case"ADD_COMMENT_VALUE":return d({},e,{comment:t.commentValue});case"ADD_COMMENT_TO_POST":return d({},e,{post:d({},e.post,{comments:[].concat(Object(u.a)(e.post.comments),[t.comment])})});case"CHANGE_AUTHOR":return d({},e,{postInfo:d({},e.postInfo,{author:t.author})});case"CHANGE_TITLE":return d({},e,{postInfo:d({},e.postInfo,{title:t.title})});case"CHANGE_BODY":return d({},e,{postInfo:d({},e.postInfo,{body:t.body})});case"EDIT_POST_INFO":return d({},e,{postInfo:d({},e.postInfo,{author:t.author,title:t.title,body:t.body})});case"CLEAR_POST_INFO":return d({},e,{postInfo:t.clear});default:return e}},b=n(6),_=n(10),E=n(12),v=n(13),O=n(15),y=n(14),g=n(16),N=n(25),j=n.n(N),w=n(34),I=n.n(w),D=function(){return o.a.createElement("div",{className:j.a.wrap},o.a.createElement("div",{className:j.a.inner},o.a.createElement("img",{src:I.a,alt:"Spinner"})))},T=n(11),x=n.n(T),P=function(e){var t=e.id,n=e.title,a=e.body,r=e.author,c=e.date;return o.a.createElement("li",{className:x.a.post,key:t},o.a.createElement("h2",{className:x.a.title},n),o.a.createElement("div",{className:x.a.desc},o.a.createElement("p",null,a),o.a.createElement(b.b,{className:x.a.link,to:"/details/".concat(t)},"read more")),o.a.createElement("div",{className:x.a.info},o.a.createElement("p",{className:x.a.infoItem},r),o.a.createElement("p",{className:x.a.infoItem},c)))},k=n(28),C=n.n(k),S=function(e){var t=e.posts;return o.a.createElement("div",null,o.a.createElement(b.b,{className:C.a.btn,to:"/new"},"ADD POST"),o.a.createElement("ul",{className:C.a.list},t?t.map(function(e){return o.a.createElement(P,{id:e.id,title:e.title,body:e.body,author:e.author,data:e.data})}):null))},A=n(7),F=n.n(A),M=n(17),G=n(2),H=Object(G.b)(),V=function(e){return{type:"TOGGLE_IS_FETSHING",isFetching:e}},L=function(e){return{type:"ADD_COMMENT_VALUE",commentValue:e}},Y=function(e){return{type:"ADD_COMMENT_TO_POST",comment:e}},W="https://simple-blog-api.crew.red/posts/",B={toggleIsFetching:V},J=Object(s.b)(function(e){return{isFetching:e.isFetching,posts:e.posts}},B)(S),R=function(e){function t(){return Object(E.a)(this,t),Object(O.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.getPosts()}},{key:"render",value:function(){var e=this.props.isFetching;return o.a.createElement("div",{className:"blog-wrap"},e?o.a.createElement(D,null):null,o.a.createElement(J,null))}}]),t}(o.a.Component),U={getPosts:function(){return function(){var e=Object(M.a)(F.a.mark(function e(t){var n,a;return F.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(V(!0)),e.next=4,fetch(W);case 4:return n=e.sent,e.next=7,n.json();case 7:a=e.sent,t({type:"ADD_POSTS",posts:a}),t(V(!1)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}()},toggleIsFetching:V},z=Object(s.b)(function(e){return{isFetching:e.isFetching,posts:e.posts}},U)(R),K=n(36),q=n.n(K),Z=function(e){var t=e.body,n=e.postId,a=e.id;return o.a.createElement("li",{className:q.a.comment,key:a,id:n},t)},$=n(22),Q=n.n($),X=function(e){var t=e.addCommentValue,n=e.commentValue,a=e.postComment,r=e.match;return o.a.createElement("div",{className:Q.a.wrap},o.a.createElement("input",{className:Q.a.input,onChange:function(e){return t(e.target.value)},onKeyUp:function(e){return 13===e.keyCode&&n?a(n,r.params.id):null},value:n}),o.a.createElement("button",{className:Q.a.btn,type:"button",onClick:function(){return a(n,r.params.id)}},"add comment"))},ee={addCommentValue:L,postComment:function(e,t){return function(){var n=Object(M.a)(F.a.mark(function n(a){var o,r;return F.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(L("")),o={postId:+t,body:e},n.next=5,fetch("https://simple-blog-api.crew.red/comments",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}});case 5:return r=n.sent,n.next=8,r.json();case 8:a(Y(o)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0);case 14:case"end":return n.stop()}},n,null,[[0,11]])}));return function(e){return n.apply(this,arguments)}}()}},te=Object(_.e)(Object(s.b)(function(e){return{commentValue:e.comment}},ee)(X)),ne=n(8),ae=n.n(ne),oe=function(e){function t(){return Object(E.a)(this,t),Object(O.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.getPost(this.props.match.params.id)}},{key:"render",value:function(){var e=this.props,t=e.isFetching,n=e.post,a=e.match;return o.a.createElement("div",{className:"wrap"},t?o.a.createElement(D,null):null,o.a.createElement("div",{className:ae.a.contnet},o.a.createElement("h2",{className:ae.a.title},n.title),o.a.createElement("div",{className:ae.a.desc},o.a.createElement("p",null,n.body)),o.a.createElement(b.b,{className:ae.a.link,to:"/details/".concat(a.params.id,"/edit")},"edit"),o.a.createElement("div",{className:ae.a.info},o.a.createElement("p",{className:ae.a.infoItem},n.author),o.a.createElement("p",{className:ae.a.infoItem},n.date))),o.a.createElement("div",{className:ae.a.commentsWrap},o.a.createElement("h3",{className:ae.a.subtitle},"comments:"),o.a.createElement(te,null),o.a.createElement("ul",{className:ae.a.list},n.comments?n.comments.map(function(e){return o.a.createElement(Z,{body:e.body,postId:e.postId,id:e.id})}):null)))}}]),t}(o.a.Component),re={toggleIsFetching:V,getPost:function(e){return function(){var t=Object(M.a)(F.a.mark(function t(n){var a,o,r;return F.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(V(!0)),a="".concat(W).concat(e,"?_embed=comments"),t.next=5,fetch(a);case 5:return o=t.sent,t.next=8,o.json();case 8:r=t.sent,n({type:"ADD_POST",post:r}),n(V(!1)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}},t,null,[[0,13]])}));return function(e){return t.apply(this,arguments)}}()}},ce=Object(_.e)(Object(s.b)(function(e){return{isFetching:e.isFetching,post:e.post}},re)(oe)),se=n(37),ie=function(e){return e[e.length-1].id+1},le=n(5),ue=n.n(le),pe=function(e){var t=e.addNewPost,n=e.posts,r=Object(a.useRef)(),c=Object(a.useRef)(),s=Object(a.useRef)();return o.a.createElement("div",null,o.a.createElement("h2",{className:ue.a.title},"Create new post"),o.a.createElement("input",{className:ue.a.input,type:"text",placeholder:"author",ref:r}),o.a.createElement("input",{className:ue.a.input,type:"text",placeholder:"title",ref:c}),o.a.createElement("textarea",{className:ue.a.input,placeholder:"post body",ref:s}),o.a.createElement("button",{className:ue.a.btn,type:"button",onClick:function(){return t(ie(n),r.current.value,c.current.value,s.current.value,se().format("YYYY-MM-D HH:mm:ss"))}},"ADD POST"))},me={addNewPost:function(e,t,n,a,o){return function(){var r=Object(M.a)(F.a.mark(function r(c){var s,i;return F.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,s={title:n,body:a,id:+e,author:t,date:o},r.next=4,fetch(W,{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}});case 4:return i=r.sent,r.next=7,i.json();case 7:H.push("/"),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),console.log(r.t0);case 13:case"end":return r.stop()}},r,null,[[0,10]])}));return function(e){return r.apply(this,arguments)}}()}},de=Object(_.e)(Object(s.b)(function(e){return{posts:e.posts,done:e.done}},me)(pe)),fe=function(e){function t(){return Object(E.a)(this,t),Object(O.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.editPostInfo(this.props.post.author,this.props.post.title,this.props.post.body)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.postInfo,a=e.changeAuthor,r=e.changeTitle,c=e.changeBody,s=e.editPost;return o.a.createElement("div",null,o.a.createElement("h2",{className:ue.a.title},"Edit post"),o.a.createElement("input",{className:ue.a.input,value:n.author,onChange:function(e){return a(e.target.value)},type:"text",placeholder:"author"}),o.a.createElement("input",{className:ue.a.input,value:n.title,onChange:function(e){return r(e.target.value)},type:"text",placeholder:"title"}),o.a.createElement("textarea",{className:ue.a.input,value:n.body,onChange:function(e){return c(e.target.value)},placeholder:"post body"}),o.a.createElement("button",{className:ue.a.btn,type:"button",onClick:function(){return s(t,n.author,n.title,n.body)}},"EDIT POST"))}}]),t}(o.a.Component),he={editPost:function(e,t,n,a){return function(){var o=Object(M.a)(F.a.mark(function o(r){var c,s,i;return F.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,c={title:n,body:a,id:+e,author:t},s="".concat(W).concat(e),o.next=5,fetch(s,{method:"PUT",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}});case 5:return i=o.sent,o.next=8,i.json();case 8:H.push("/"),o.next=14;break;case 11:o.prev=11,o.t0=o.catch(0),console.log(o.t0);case 14:case"end":return o.stop()}},o,null,[[0,11]])}));return function(e){return o.apply(this,arguments)}}()},changeAuthor:function(e){return{type:"CHANGE_AUTHOR",author:e}},changeTitle:function(e){return{type:"CHANGE_TITLE",title:e}},changeBody:function(e){return{type:"CHANGE_BODY",body:e}},editPostInfo:function(e,t,n){return{type:"EDIT_POST_INFO",author:e,title:t,body:n}}},be=Object(s.b)(function(e){return{done:e.done,id:e.post.id,postInfo:e.postInfo,post:e.post}},he)(fe),_e=function(){return o.a.createElement("div",{className:"inner"},o.a.createElement("div",{className:"content"},o.a.createElement(b.a,null,o.a.createElement(_.a,{path:"/",exact:!0,component:z}),o.a.createElement(_.a,{path:"/new",exact:!0,component:de}),o.a.createElement(_.a,{path:"/details/:id",exact:!0,component:ce}),o.a.createElement(_.a,{path:"/details/:id/edit",exact:!0,component:be}))))};n(51);var Ee=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(_e,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ve(){return Object(i.c)(h,f,Object(i.a)(l.a))}n.d(t,"configureStore",function(){return ve}),n.d(t,"store",function(){return Oe});var Oe=ve();c.a.render(o.a.createElement(s.a,{store:Oe},o.a.createElement(Ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,t,n){e.exports={contnet:"postDetails_contnet__3k4SY",title:"postDetails_title__31iRo",desc:"postDetails_desc__2Zjvy",info:"postDetails_info__3IEOd",infoItem:"postDetails_infoItem__IzceT",link:"postDetails_link__31ipg",list:"postDetails_list__25WoK",commentsWrap:"postDetails_commentsWrap__1vJgB",subtitle:"postDetails_subtitle__-Izim"}}},[[39,1,2]]]);
//# sourceMappingURL=main.bad86066.chunk.js.map